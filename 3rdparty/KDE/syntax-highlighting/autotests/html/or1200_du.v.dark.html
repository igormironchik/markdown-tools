<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>or1200_du.v</title>
<meta name="generator" content="KF5::SyntaxHighlighting - Definition (Verilog) - Theme (Breeze Dark)"/>
</head><body style="background-color:#232629;color:#cfcfc2"><pre>
<span style="color:#7a7c7d">//////////////////////////////////////////////////////////////////////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">////  OR1200's Debug Unit                                         ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">////  This file is part of the OpenRISC 1200 project              ////</span>
<span style="color:#7a7c7d">////  http://www.opencores.org/project,or1k                       ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">////  Description                                                 ////</span>
<span style="color:#7a7c7d">////  Basic OR1200 debug unit.                                    ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">////  To Do:                                                      ////</span>
<span style="color:#7a7c7d">////   - make it smaller and faster                               ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">////  Author(s):                                                  ////</span>
<span style="color:#7a7c7d">////      - Damjan Lampret, lampret@opencores.org                 ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">//////////////////////////////////////////////////////////////////////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">//// Copyright (C) 2000 Authors and OPENCORES.ORG                 ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">//// This source file may be used and distributed without         ////</span>
<span style="color:#7a7c7d">//// restriction provided that this copyright statement is not    ////</span>
<span style="color:#7a7c7d">//// removed from the file and that any derivative work contains  ////</span>
<span style="color:#7a7c7d">//// the original copyright notice and the associated disclaimer. ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">//// This source file is free software; you can redistribute it   ////</span>
<span style="color:#7a7c7d">//// and/or modify it under the terms of the GNU Lesser General   ////</span>
<span style="color:#7a7c7d">//// Public License as published by the Free Software Foundation; ////</span>
<span style="color:#7a7c7d">//// either version 2.1 of the License, or (at your option) any   ////</span>
<span style="color:#7a7c7d">//// later version.                                               ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">//// This source is distributed in the hope that it will be       ////</span>
<span style="color:#7a7c7d">//// useful, but WITHOUT ANY WARRANTY; without even the implied   ////</span>
<span style="color:#7a7c7d">//// warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR      ////</span>
<span style="color:#7a7c7d">//// PURPOSE.  See the GNU Lesser General Public License for more ////</span>
<span style="color:#7a7c7d">//// details.                                                     ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">//// You should have received a copy of the GNU Lesser General    ////</span>
<span style="color:#7a7c7d">//// Public License along with this source; if not, download it   ////</span>
<span style="color:#7a7c7d">//// from http://www.opencores.org/lgpl.shtml                     ////</span>
<span style="color:#7a7c7d">////                                                              ////</span>
<span style="color:#7a7c7d">//////////////////////////////////////////////////////////////////////</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// $Log: or1200_du.v,v $</span>
<span style="color:#7a7c7d">// Revision 2.0  2010/06/30 11:00:00  ORSoC</span>
<span style="color:#7a7c7d">// Minor update: </span>
<span style="color:#7a7c7d">// Bugs fixed. </span>

<span style="color:#7a7c7d">// synopsys translate_off</span>
<span style="color:#27ae60">`include </span><span style="color:#f67400">"timescale.v"</span>
<span style="color:#7a7c7d">// synopsys translate_on</span>
<span style="color:#27ae60">`include </span><span style="color:#f67400">"or1200_defines.v"</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug unit</span>
<span style="color:#7a7c7d">//</span>

<span style="font-weight:bold">module</span> or1200_du<span style="color:#3f8058">(</span>
	<span style="color:#7a7c7d">// RISC Internal Interface</span>
	clk<span style="color:#3f8058">,</span> rst<span style="color:#3f8058">,</span>
	dcpu_cycstb_i<span style="color:#3f8058">,</span> dcpu_we_i<span style="color:#3f8058">,</span> dcpu_adr_i<span style="color:#3f8058">,</span> dcpu_dat_lsu<span style="color:#3f8058">,</span>
	dcpu_dat_dc<span style="color:#3f8058">,</span> icpu_cycstb_i<span style="color:#3f8058">,</span>
	ex_freeze<span style="color:#3f8058">,</span> branch_op<span style="color:#3f8058">,</span> ex_insn<span style="color:#3f8058">,</span> id_pc<span style="color:#3f8058">,</span>
	spr_dat_npc<span style="color:#3f8058">,</span> rf_dataw<span style="color:#3f8058">,</span>
	du_dsr<span style="color:#3f8058">,</span> du_dmr1<span style="color:#3f8058">,</span> du_stall<span style="color:#3f8058">,</span> du_addr<span style="color:#3f8058">,</span> du_dat_i<span style="color:#3f8058">,</span> du_dat_o<span style="color:#3f8058">,</span>
	du_read<span style="color:#3f8058">,</span> du_write<span style="color:#3f8058">,</span> du_except_stop<span style="color:#3f8058">,</span> du_hwbkpt<span style="color:#3f8058">,</span> du_flush_pipe<span style="color:#3f8058">,</span>
	spr_cs<span style="color:#3f8058">,</span> spr_write<span style="color:#3f8058">,</span> spr_addr<span style="color:#3f8058">,</span> spr_dat_i<span style="color:#3f8058">,</span> spr_dat_o<span style="color:#3f8058">,</span>

	<span style="color:#7a7c7d">// External Debug Interface</span>
	dbg_stall_i<span style="color:#3f8058">,</span> dbg_ewt_i<span style="color:#3f8058">,</span>	dbg_lss_o<span style="color:#3f8058">,</span> dbg_is_o<span style="color:#3f8058">,</span> dbg_wp_o<span style="color:#3f8058">,</span> dbg_bp_o<span style="color:#3f8058">,</span>
	dbg_stb_i<span style="color:#3f8058">,</span> dbg_we_i<span style="color:#3f8058">,</span> dbg_adr_i<span style="color:#3f8058">,</span> dbg_dat_i<span style="color:#3f8058">,</span> dbg_dat_o<span style="color:#3f8058">,</span> dbg_ack_o
<span style="color:#3f8058">);</span>

<span style="color:#2980b9">parameter</span> dw <span style="color:#3f8058">=</span> <span style="color:#27ae60">`OR1200_OPERAND_WIDTH</span><span style="color:#3f8058">;</span>
<span style="color:#2980b9">parameter</span> aw <span style="color:#3f8058">=</span> <span style="color:#27ae60">`OR1200_OPERAND_WIDTH</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// I/O</span>
<span style="color:#7a7c7d">//</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// RISC Internal Interface</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#2980b9">input</span>				clk<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// Clock</span>
<span style="color:#2980b9">input</span>				rst<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// Reset</span>
<span style="color:#2980b9">input</span>				dcpu_cycstb_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// LSU status</span>
<span style="color:#2980b9">input</span>				dcpu_we_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// LSU status</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// LSU addr</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// LSU store data</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// LSU load data</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_FETCHOP_WIDTH</span><span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	icpu_cycstb_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// IFETCH unit status</span>
<span style="color:#2980b9">input</span>				ex_freeze<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// EX stage freeze</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_BRANCHOP_WIDTH</span><span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	branch_op<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Branch op</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		ex_insn<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// EX insn</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			spr_dat_npc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Next PC (for trace)</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			rf_dataw<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// ALU result (for trace)</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DSR_WIDTH</span><span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>     du_dsr<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DSR</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">24</span><span style="color:#3f8058">:</span> <span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			du_dmr1<span style="color:#3f8058">;</span>
<span style="color:#2980b9">output</span>				du_stall<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Debug Unit Stall</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span>aw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		du_addr<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Debug Unit Address</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		du_dat_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Debug Unit Data In</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		du_dat_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Debug Unit Data Out</span>
<span style="color:#2980b9">output</span>				du_read<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Debug Unit Read Enable</span>
<span style="color:#2980b9">output</span>				du_write<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Debug Unit Write Enable</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">13</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			du_except_stop<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Exception masked by DSR</span>
<span style="color:#2980b9">output</span>				du_hwbkpt<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Cause trap exception (HW Breakpoints)</span>
<span style="color:#2980b9">output</span>				du_flush_pipe<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Cause pipeline flush and pc&lt;-npc</span>
<span style="color:#2980b9">input</span>				spr_cs<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// SPR Chip Select</span>
<span style="color:#2980b9">input</span>				spr_write<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// SPR Read/Write</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span>aw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		spr_addr<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// SPR Address</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		spr_dat_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// SPR Data Input</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		spr_dat_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// SPR Data Output</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// External Debug Interface</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#2980b9">input</span>			dbg_stall_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Stall Input</span>
<span style="color:#2980b9">input</span>			dbg_ewt_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Watchpoint Trigger Input</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">3</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		dbg_lss_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Load/Store Unit Status</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		dbg_is_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Insn Fetch Status</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">10</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>		dbg_wp_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Watchpoints Outputs</span>
<span style="color:#2980b9">output</span>			dbg_bp_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Breakpoint Output</span>
<span style="color:#2980b9">input</span>			dbg_stb_i<span style="color:#3f8058">;</span>      <span style="color:#7a7c7d">// External Address/Data Strobe</span>
<span style="color:#2980b9">input</span>			dbg_we_i<span style="color:#3f8058">;</span>       <span style="color:#7a7c7d">// External Write Enable</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span>aw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	dbg_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Address Input</span>
<span style="color:#2980b9">input</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	dbg_dat_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Data Input</span>
<span style="color:#2980b9">output</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	dbg_dat_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Data Output</span>
<span style="color:#2980b9">output</span>			dbg_ack_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Data Acknowledge (not WB compatible)</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span>dw<span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	dbg_dat_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Data Output</span>
<span style="color:#2980b9">reg</span>			dbg_ack_o<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// External Data Acknowledge (not WB compatible)</span>


<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Some connections go directly from the CPU through DU to Debug I/F</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_STATUS_UNIMPLEMENTED</span>
<span style="font-weight:bold">assign</span> dbg_lss_o <span style="color:#3f8058">=</span> <span style="color:#f67400">4'b0000</span><span style="color:#3f8058">;</span>

<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dbg_is_o<span style="color:#3f8058">;</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Show insn activity (temp, must be removed)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dbg_is_o <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">2'b00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(!</span>ex_freeze <span style="color:#3f8058">&amp;</span> <span style="color:#3f8058">~((</span>ex_insn<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">26</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_OR32_NOP</span><span style="color:#3f8058">)</span> <span style="color:#3f8058">&amp;</span> ex_insn<span style="color:#3f8058">[</span><span style="color:#f67400">16</span><span style="color:#3f8058">]))</span>
		dbg_is_o <span style="color:#3f8058">&lt;=</span>  <span style="color:#3f8058">~</span>dbg_is_o<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`ifdef UNUSED</span>
<span style="font-weight:bold">assign</span> dbg_is_o <span style="color:#3f8058">=</span> <span style="color:#f67400">2'b00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dbg_lss_o <span style="color:#3f8058">=</span> dcpu_cycstb_i <span style="color:#3f8058">?</span> <span style="color:#3f8058">{</span>dcpu_we_i<span style="color:#3f8058">,</span> <span style="color:#f67400">3'b000</span><span style="color:#3f8058">}</span> <span style="color:#3f8058">:</span> <span style="color:#f67400">4'b0000</span><span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> dbg_is_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">,</span> icpu_cycstb_i<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="font-weight:bold">assign</span> dbg_wp_o <span style="color:#3f8058">=</span> <span style="color:#f67400">11'b000_0000_0000</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Some connections go directly from Debug I/F through DU to the CPU</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">assign</span> du_stall <span style="color:#3f8058">=</span> dbg_stall_i<span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> du_addr <span style="color:#3f8058">=</span> dbg_adr_i<span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> du_dat_o <span style="color:#3f8058">=</span> dbg_dat_i<span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> du_read <span style="color:#3f8058">=</span> dbg_stb_i <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">!</span>dbg_we_i<span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> du_write <span style="color:#3f8058">=</span> dbg_stb_i <span style="color:#3f8058">&amp;&amp;</span> dbg_we_i<span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// After a sw breakpoint, the replaced instruction need to be executed.</span>
<span style="color:#7a7c7d">// We flush the entire pipeline and set the pc to the current address</span>
<span style="color:#7a7c7d">// to execute the restored address.</span>
<span style="color:#7a7c7d">//</span>

<span style="color:#2980b9">reg</span> du_flush_pipe_r<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span> dbg_stall_i_r<span style="color:#3f8058">;</span>

<span style="font-weight:bold">assign</span> du_flush_pipe <span style="color:#3f8058">=</span> du_flush_pipe_r<span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Register du_flush_pipe</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span> <span style="font-weight:bold">begin</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span> <span style="font-weight:bold">begin</span>
		du_flush_pipe_r   <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">end</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">begin</span>
		du_flush_pipe_r   <span style="color:#3f8058">&lt;=</span>  <span style="color:#3f8058">(</span>dbg_stall_i_r <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">!</span>dbg_stall_i <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">|</span>du_except_stop<span style="color:#3f8058">);</span>
	<span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Detect dbg_stall falling edge</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span> <span style="font-weight:bold">begin</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span> <span style="font-weight:bold">begin</span>
		dbg_stall_i_r   <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">end</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">begin</span>
		dbg_stall_i_r   <span style="color:#3f8058">&lt;=</span>  dbg_stall_i<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span>

<span style="color:#2980b9">reg</span>				dbg_ack<span style="color:#3f8058">;</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Generate acknowledge -- just delay stb signal</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span> <span style="font-weight:bold">begin</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span> <span style="font-weight:bold">begin</span>
		dbg_ack   <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		dbg_ack_o <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">end</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">begin</span>
		dbg_ack   <span style="color:#3f8058">&lt;=</span>  dbg_stb_i<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// valid when du_dat_i </span>
		dbg_ack_o <span style="color:#3f8058">&lt;=</span>  dbg_ack <span style="color:#3f8058">&amp;</span> dbg_stb_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// valid when dbg_dat_o </span>
	<span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span>

<span style="color:#7a7c7d">// </span>
<span style="color:#7a7c7d">// Register data output</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk<span style="color:#3f8058">)</span>
    dbg_dat_o <span style="color:#3f8058">&lt;=</span>  du_dat_i<span style="color:#3f8058">;</span>

<span style="color:#27ae60">`ifdef OR1200_DU_IMPLEMENTED</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Mode Register 1</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR1</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">24</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dmr1<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DMR1 implemented</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">24</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dmr1<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DMR1 not implemented</span>
<span style="color:#27ae60">`endif</span>
<span style="font-weight:bold">assign</span> du_dmr1 <span style="color:#3f8058">=</span> dmr1<span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Mode Register 2</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR2</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">23</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dmr2<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DMR2 implemented</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">23</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dmr2<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DMR2 not implemented</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Stop Register</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DSR</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DSR_WIDTH</span><span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	dsr<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DSR implemented</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DSR_WIDTH</span><span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>	dsr<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DSR not implemented</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Reason Register</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DRR</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">13</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			drr<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DRR implemented</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">13</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			drr<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// DRR not implemented</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR0</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR1</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR2</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr2<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr2<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR3</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr3<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr3<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR4</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr4<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr4<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR5</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr5<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr5<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR6</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr6<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr6<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Value Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR7</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr7<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dvr7<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR0</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR1</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR2</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr2<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr2<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR3</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr3<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr3<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR4</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr4<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr4<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR5</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr5<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr5<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR6</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr6<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr6<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Control Register N</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR7</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr7<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dcr7<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Watchpoint Counter Register 0</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR0</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dwcr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dwcr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Debug Watchpoint Counter Register 1</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR1</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dwcr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			dwcr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Internal wires</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#2980b9">wire</span>				dmr1_sel<span style="color:#3f8058">;</span> 	<span style="color:#7a7c7d">// DMR1 select</span>
<span style="color:#2980b9">wire</span>				dmr2_sel<span style="color:#3f8058">;</span> 	<span style="color:#7a7c7d">// DMR2 select</span>
<span style="color:#2980b9">wire</span>				dsr_sel<span style="color:#3f8058">;</span> 	<span style="color:#7a7c7d">// DSR select</span>
<span style="color:#2980b9">wire</span>				drr_sel<span style="color:#3f8058">;</span> 	<span style="color:#7a7c7d">// DRR select</span>
<span style="color:#2980b9">wire</span>				dvr0_sel<span style="color:#3f8058">,</span>
				dvr1_sel<span style="color:#3f8058">,</span>
				dvr2_sel<span style="color:#3f8058">,</span>
				dvr3_sel<span style="color:#3f8058">,</span>
				dvr4_sel<span style="color:#3f8058">,</span>
				dvr5_sel<span style="color:#3f8058">,</span>
				dvr6_sel<span style="color:#3f8058">,</span>
				dvr7_sel<span style="color:#3f8058">;</span> 	<span style="color:#7a7c7d">// DVR selects</span>
<span style="color:#2980b9">wire</span>				dcr0_sel<span style="color:#3f8058">,</span>
				dcr1_sel<span style="color:#3f8058">,</span>
				dcr2_sel<span style="color:#3f8058">,</span>
				dcr3_sel<span style="color:#3f8058">,</span>
				dcr4_sel<span style="color:#3f8058">,</span>
				dcr5_sel<span style="color:#3f8058">,</span>
				dcr6_sel<span style="color:#3f8058">,</span>
				dcr7_sel<span style="color:#3f8058">;</span> 	<span style="color:#7a7c7d">// DCR selects</span>
<span style="color:#2980b9">wire</span>				dwcr0_sel<span style="color:#3f8058">,</span>
				dwcr1_sel<span style="color:#3f8058">;</span> 	<span style="color:#7a7c7d">// DWCR selects</span>
<span style="color:#2980b9">reg</span>				dbg_bp_r<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span> 				ex_freeze_q<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`ifdef OR1200_DU_HWBKPTS</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond0_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond1_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond2_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond3_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond4_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond5_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond6_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			match_cond7_ct<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond0_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond1_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond2_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond3_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond4_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond5_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond6_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match_cond7_stb<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match0<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match1<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match2<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match3<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match4<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match5<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match6<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				match7<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				wpcntr0_match<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				wpcntr1_match<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				incr_wpcntr0<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				incr_wpcntr1<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">10</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			wp<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#2980b9">wire</span>				du_hwbkpt<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>				du_hwbkpt_hold<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`ifdef OR1200_DU_READREGS</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			spr_dat_o<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">13</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			except_stop<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// Exceptions that stop because of DSR</span>
<span style="color:#27ae60">`ifdef OR1200_DU_TB_IMPLEMENTED</span>
<span style="color:#2980b9">wire</span>				tb_enw<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			tb_wadr<span style="color:#3f8058">;</span>
<span style="color:#2980b9">reg</span> <span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			tb_timstmp<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			tbia_dat_o<span style="color:#3f8058">;</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			tbim_dat_o<span style="color:#3f8058">;</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			tbar_dat_o<span style="color:#3f8058">;</span>
<span style="color:#2980b9">wire</span>	<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span>			tbts_dat_o<span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// DU registers address decoder</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR1</span>
<span style="font-weight:bold">assign</span> dmr1_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DMR1</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR2</span>
<span style="font-weight:bold">assign</span> dmr2_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DMR2</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DSR</span>
<span style="font-weight:bold">assign</span> dsr_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DSR</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DRR</span>
<span style="font-weight:bold">assign</span> drr_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DRR</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR0</span>
<span style="font-weight:bold">assign</span> dvr0_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR0</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR1</span>
<span style="font-weight:bold">assign</span> dvr1_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR1</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR2</span>
<span style="font-weight:bold">assign</span> dvr2_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR2</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR3</span>
<span style="font-weight:bold">assign</span> dvr3_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR3</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR4</span>
<span style="font-weight:bold">assign</span> dvr4_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR4</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR5</span>
<span style="font-weight:bold">assign</span> dvr5_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR5</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR6</span>
<span style="font-weight:bold">assign</span> dvr6_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR6</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR7</span>
<span style="font-weight:bold">assign</span> dvr7_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DVR7</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR0</span>
<span style="font-weight:bold">assign</span> dcr0_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR0</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR1</span>
<span style="font-weight:bold">assign</span> dcr1_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR1</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR2</span>
<span style="font-weight:bold">assign</span> dcr2_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR2</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR3</span>
<span style="font-weight:bold">assign</span> dcr3_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR3</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR4</span>
<span style="font-weight:bold">assign</span> dcr4_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR4</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR5</span>
<span style="font-weight:bold">assign</span> dcr5_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR5</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR6</span>
<span style="font-weight:bold">assign</span> dcr6_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR6</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR7</span>
<span style="font-weight:bold">assign</span> dcr7_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DCR7</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR0</span>
<span style="font-weight:bold">assign</span> dwcr0_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DWCR0</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR1</span>
<span style="font-weight:bold">assign</span> dwcr1_sel <span style="color:#3f8058">=</span> <span style="color:#3f8058">(</span>spr_cs <span style="color:#3f8058">&amp;&amp;</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_DU_DWCR1</span><span style="color:#3f8058">));</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">// Track previous ex_freeze to detect when signals are updated</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk<span style="color:#3f8058">)</span>
  ex_freeze_q <span style="color:#3f8058">&lt;=</span> ex_freeze<span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Decode started exception</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// du_except_stop comes from or1200_except</span>
<span style="color:#7a7c7d">//   </span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>du_except_stop <span style="color:#2980b9">or</span> ex_freeze_q<span style="color:#3f8058">)</span> <span style="font-weight:bold">begin</span>
	except_stop <span style="color:#3f8058">=</span> <span style="color:#f67400">14'b00_0000_0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">casez</span> <span style="color:#3f8058">(</span>du_except_stop<span style="color:#3f8058">)</span>
	        <span style="color:#f67400">14'b1</span><span style="color:#3f8058">?</span>_<span style="color:#3f8058">????</span>_<span style="color:#3f8058">????</span>_<span style="color:#3f8058">????:</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_TTE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">14'b01_</span><span style="color:#3f8058">????</span>_<span style="color:#3f8058">????</span>_<span style="color:#3f8058">????:</span> <span style="font-weight:bold">begin</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_IE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>
		<span style="color:#f67400">14'b00_1</span><span style="color:#3f8058">???</span>_<span style="color:#3f8058">????</span>_<span style="color:#3f8058">????:</span> <span style="font-weight:bold">begin</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_IME</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>
		<span style="color:#f67400">14'b00_01</span><span style="color:#3f8058">??</span>_<span style="color:#3f8058">????</span>_<span style="color:#3f8058">????:</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_IPFE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">14'b00_001</span><span style="color:#3f8058">?</span>_<span style="color:#3f8058">????</span>_<span style="color:#3f8058">????:</span> <span style="font-weight:bold">begin</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_BUSEE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>
		<span style="color:#f67400">14'b00_0001_</span><span style="color:#3f8058">????</span>_<span style="color:#3f8058">????:</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_IIE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">14'b00_0000_1</span><span style="color:#3f8058">???</span>_<span style="color:#3f8058">????:</span> <span style="font-weight:bold">begin</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_AE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>
		<span style="color:#f67400">14'b00_0000_01</span><span style="color:#3f8058">??</span>_<span style="color:#3f8058">????:</span> <span style="font-weight:bold">begin</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_DME</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>
		<span style="color:#f67400">14'b00_0000_001</span><span style="color:#3f8058">?</span>_<span style="color:#3f8058">????:</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_DPFE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">14'b00_0000_0001_</span><span style="color:#3f8058">????:</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_BUSEE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">14'b00_0000_0000_1</span><span style="color:#3f8058">???:</span> <span style="font-weight:bold">begin</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_RE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>
		<span style="color:#f67400">14'b00_0000_0000_01</span><span style="color:#3f8058">??:</span> <span style="font-weight:bold">begin</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_TE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span> <span style="color:#3f8058">&amp;</span> <span style="color:#3f8058">~</span>ex_freeze_q<span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>
		<span style="color:#f67400">14'b00_0000_0000_001</span><span style="color:#3f8058">?:</span> <span style="font-weight:bold">begin</span>
		        except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_FPE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
		<span style="font-weight:bold">end</span>	  
		<span style="color:#f67400">14'b00_0000_0000_0001</span><span style="color:#3f8058">:</span>
			except_stop<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DRR_SCE</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span> <span style="color:#3f8058">&amp;</span> <span style="color:#3f8058">~</span>ex_freeze_q<span style="color:#3f8058">;</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>
			except_stop <span style="color:#3f8058">=</span> <span style="color:#f67400">14'b00_0000_0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span> <span style="color:#7a7c7d">// casez (du_except_stop)</span>
<span style="font-weight:bold">end</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// dbg_bp_o is registered</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">assign</span> dbg_bp_o <span style="color:#3f8058">=</span> dbg_bp_r<span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Breakpoint activation register</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dbg_bp_r <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(!</span>ex_freeze<span style="color:#3f8058">)</span>
		dbg_bp_r <span style="color:#3f8058">&lt;=</span>  <span style="color:#3f8058">|</span>except_stop
<span style="color:#27ae60">`ifdef OR1200_DU_DMR1_ST</span>
                        <span style="color:#3f8058">|</span> <span style="color:#3f8058">~((</span>ex_insn<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">26</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_OR32_NOP</span><span style="color:#3f8058">)</span> <span style="color:#3f8058">&amp;</span> ex_insn<span style="color:#3f8058">[</span><span style="color:#f67400">16</span><span style="color:#3f8058">])</span> <span style="color:#3f8058">&amp;</span> dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_ST</span><span style="color:#3f8058">]</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR1_BT</span>
                        <span style="color:#3f8058">|</span> <span style="color:#3f8058">(</span>branch_op <span style="color:#3f8058">!=</span> <span style="color:#27ae60">`OR1200_BRANCHOP_NOP</span><span style="color:#3f8058">)</span> <span style="color:#3f8058">&amp;</span> <span style="color:#3f8058">(</span>branch_op <span style="color:#3f8058">!=</span> <span style="color:#27ae60">`OR1200_BRANCHOP_RFE</span><span style="color:#3f8058">)</span> <span style="color:#3f8058">&amp;</span> dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_BT</span><span style="color:#3f8058">]</span>
<span style="color:#27ae60">`endif</span>
			<span style="color:#3f8058">;</span>
        <span style="font-weight:bold">else</span>
                dbg_bp_r <span style="color:#3f8058">&lt;=</span>  <span style="color:#3f8058">|</span>except_stop<span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DMR1</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR1</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dmr1 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">25'h000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dmr1_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
<span style="color:#27ae60">`ifdef OR1200_DU_HWBKPTS</span>
		dmr1 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">24</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
		dmr1 <span style="color:#3f8058">&lt;=</span>  <span style="color:#3f8058">{</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">,</span> spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">23</span><span style="color:#3f8058">:</span><span style="color:#f67400">22</span><span style="color:#3f8058">],</span> <span style="color:#f67400">22'h00_0000</span><span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dmr1 <span style="color:#3f8058">=</span> <span style="color:#f67400">25'h000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DMR2</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR2</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dmr2 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dmr2_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dmr2 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">23</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dmr2 <span style="color:#3f8058">=</span> <span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DSR</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DSR</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dsr <span style="color:#3f8058">&lt;=</span> <span style="color:#3f8058">{</span><span style="color:#27ae60">`OR1200_DU_DSR_WIDTH</span><span style="color:#3f8058">{</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">}};</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dsr_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dsr <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DSR_WIDTH</span><span style="color:#3f8058">-</span><span style="color:#f67400">1</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dsr <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#27ae60">`OR1200_DU_DSR_WIDTH</span><span style="color:#3f8058">{</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">}};</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DRR</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DRR</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		drr <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">14'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>drr_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		drr <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">13</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
	<span style="font-weight:bold">else</span>
		drr <span style="color:#3f8058">&lt;=</span>  drr <span style="color:#3f8058">|</span> except_stop<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> drr <span style="color:#3f8058">=</span> <span style="color:#f67400">14'b0</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR0</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR0</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr0 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr0_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr0 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr0 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR1</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR1</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr1 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr1_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr1 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr1 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR2</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR2</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr2 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr2_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr2 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr2 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR3</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR3</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr3 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr3_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr3 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr3 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR4</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR4</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr4 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr4_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr4 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr4 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR5</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR5</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr5 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr5_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr5 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr5 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR6</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR6</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr6 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr6_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr6 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr6 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DVR7</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR7</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dvr7 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dvr7_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dvr7 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dvr7 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR0</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR0</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr0 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr0_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr0 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr0 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR1</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR1</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr1 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr1_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr1 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr1 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR2</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR2</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr2 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr2_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr2 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr2 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR3</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR3</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr3 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr3_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr3 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr3 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR4</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR4</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr4 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr4_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr4 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr4 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR5</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR5</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr5 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr5_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr5 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr5 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR6</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR6</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr6 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr6_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr6 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr6 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DCR7</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR7</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dcr7 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dcr7_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dcr7 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dcr7 <span style="color:#3f8058">=</span> <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DWCR0</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR0</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dwcr0 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dwcr0_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dwcr0 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>incr_wpcntr0<span style="color:#3f8058">)</span>
		dwcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_COUNT</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">&lt;=</span>  dwcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_COUNT</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">+</span> <span style="color:#f67400">16'h0001</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dwcr0 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Write to DWCR1</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR1</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		dwcr1 <span style="color:#3f8058">&lt;=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dwcr1_sel <span style="color:#3f8058">&amp;&amp;</span> spr_write<span style="color:#3f8058">)</span>
		dwcr1 <span style="color:#3f8058">&lt;=</span>  spr_dat_i<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>incr_wpcntr1<span style="color:#3f8058">)</span>
		dwcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_COUNT</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">&lt;=</span>  dwcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_COUNT</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">+</span> <span style="color:#f67400">16'h0001</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> dwcr1 <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Read DU registers</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_READREGS</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>spr_addr <span style="color:#2980b9">or</span> dsr <span style="color:#2980b9">or</span> drr <span style="color:#2980b9">or</span> dmr1 <span style="color:#2980b9">or</span> dmr2
	<span style="color:#2980b9">or</span> dvr0 <span style="color:#2980b9">or</span> dvr1 <span style="color:#2980b9">or</span> dvr2 <span style="color:#2980b9">or</span> dvr3 <span style="color:#2980b9">or</span> dvr4
	<span style="color:#2980b9">or</span> dvr5 <span style="color:#2980b9">or</span> dvr6 <span style="color:#2980b9">or</span> dvr7
	<span style="color:#2980b9">or</span> dcr0 <span style="color:#2980b9">or</span> dcr1 <span style="color:#2980b9">or</span> dcr2 <span style="color:#2980b9">or</span> dcr3 <span style="color:#2980b9">or</span> dcr4
	<span style="color:#2980b9">or</span> dcr5 <span style="color:#2980b9">or</span> dcr6 <span style="color:#2980b9">or</span> dcr7
	<span style="color:#2980b9">or</span> dwcr0 <span style="color:#2980b9">or</span> dwcr1
<span style="color:#27ae60">`ifdef OR1200_DU_TB_IMPLEMENTED</span>
	<span style="color:#2980b9">or</span> tb_wadr <span style="color:#2980b9">or</span> tbia_dat_o <span style="color:#2980b9">or</span> tbim_dat_o
	<span style="color:#2980b9">or</span> tbar_dat_o <span style="color:#2980b9">or</span> tbts_dat_o
<span style="color:#27ae60">`endif</span>
	<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casez</span> <span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DUOFS_BITS</span><span style="color:#3f8058">])</span> <span style="color:#7a7c7d">// synopsys parallel_case</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR0</span>
		<span style="color:#27ae60">`OR1200_DU_DVR0</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR1</span>
		<span style="color:#27ae60">`OR1200_DU_DVR1</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR2</span>
		<span style="color:#27ae60">`OR1200_DU_DVR2</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr2<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR3</span>
		<span style="color:#27ae60">`OR1200_DU_DVR3</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr3<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR4</span>
		<span style="color:#27ae60">`OR1200_DU_DVR4</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr4<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR5</span>
		<span style="color:#27ae60">`OR1200_DU_DVR5</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr5<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR6</span>
		<span style="color:#27ae60">`OR1200_DU_DVR6</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr6<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DVR7</span>
		<span style="color:#27ae60">`OR1200_DU_DVR7</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dvr7<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR0</span>
		<span style="color:#27ae60">`OR1200_DU_DCR0</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr0<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR1</span>
		<span style="color:#27ae60">`OR1200_DU_DCR1</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr1<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR2</span>
		<span style="color:#27ae60">`OR1200_DU_DCR2</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr2<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR3</span>
		<span style="color:#27ae60">`OR1200_DU_DCR3</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr3<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR4</span>
		<span style="color:#27ae60">`OR1200_DU_DCR4</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr4<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR5</span>
		<span style="color:#27ae60">`OR1200_DU_DCR5</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr5<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR6</span>
		<span style="color:#27ae60">`OR1200_DU_DCR6</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr6<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DCR7</span>
		<span style="color:#27ae60">`OR1200_DU_DCR7</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h00_0000</span><span style="color:#3f8058">,</span> dcr7<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR1</span>
		<span style="color:#27ae60">`OR1200_DU_DMR1</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">7'h00</span><span style="color:#3f8058">,</span> dmr1<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DMR2</span>
		<span style="color:#27ae60">`OR1200_DU_DMR2</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">8'h00</span><span style="color:#3f8058">,</span> dmr2<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR0</span>
		<span style="color:#27ae60">`OR1200_DU_DWCR0</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dwcr0<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DWCR1</span>
		<span style="color:#27ae60">`OR1200_DU_DWCR1</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> dwcr1<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DSR</span>
		<span style="color:#27ae60">`OR1200_DU_DSR</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">18'b0</span><span style="color:#3f8058">,</span> dsr<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_DRR</span>
		<span style="color:#27ae60">`OR1200_DU_DRR</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">18'b0</span><span style="color:#3f8058">,</span> drr<span style="color:#3f8058">};</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`ifdef OR1200_DU_TB_IMPLEMENTED</span>
		<span style="color:#27ae60">`OR1200_DU_TBADR</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">24'h000000</span><span style="color:#3f8058">,</span> tb_wadr<span style="color:#3f8058">};</span>
		<span style="color:#27ae60">`OR1200_DU_TBIA</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> tbia_dat_o<span style="color:#3f8058">;</span>
		<span style="color:#27ae60">`OR1200_DU_TBIM</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> tbim_dat_o<span style="color:#3f8058">;</span>
		<span style="color:#27ae60">`OR1200_DU_TBAR</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> tbar_dat_o<span style="color:#3f8058">;</span>
		<span style="color:#27ae60">`OR1200_DU_TBTS</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> tbts_dat_o<span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>
			spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// DSR alias</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">assign</span> du_dsr <span style="color:#3f8058">=</span> dsr<span style="color:#3f8058">;</span>

<span style="color:#27ae60">`ifdef OR1200_DU_HWBKPTS</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 0)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr0 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond0_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond0_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond0_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond0_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond0_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond0_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond0_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 0)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr0 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond0_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond0_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond0_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 0</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond0_stb <span style="color:#2980b9">or</span> dcr0 <span style="color:#2980b9">or</span> dvr0 <span style="color:#2980b9">or</span> match_cond0_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond0_stb<span style="color:#3f8058">,</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match0 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match0 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match0 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match0 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match0 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match0 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match0 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond0_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr0<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 0</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match0<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW0</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match0<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match0<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match0<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">0</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 1)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr1 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond1_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond1_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond1_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond1_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond1_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond1_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond1_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 1)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr1 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond1_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond1_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond1_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 1</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond1_stb <span style="color:#2980b9">or</span> dcr1 <span style="color:#2980b9">or</span> dvr1 <span style="color:#2980b9">or</span> match_cond1_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond1_stb<span style="color:#3f8058">,</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match1 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match1 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match1 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match1 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match1 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match1 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match1 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond1_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr1<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 1</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match1 <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW1</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match1<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match1 <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match1 <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">0</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 2)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr2 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond2_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond2_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond2_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond2_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond2_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond2_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond2_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 2)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr2 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond2_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond2_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond2_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 2</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond2_stb <span style="color:#2980b9">or</span> dcr2 <span style="color:#2980b9">or</span> dvr2 <span style="color:#2980b9">or</span> match_cond2_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond2_stb<span style="color:#3f8058">,</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match2 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match2 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match2 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match2 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match2 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match2 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match2 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond2_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr2<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 2</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match2 <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW2</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">2</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match2<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">2</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match2 <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">2</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match2 <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">1</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">2</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 3)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr3 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond3_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond3_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond3_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond3_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond3_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond3_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond3_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 3)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr3 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond3_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond3_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond3_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 3</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond3_stb <span style="color:#2980b9">or</span> dcr3 <span style="color:#2980b9">or</span> dvr3 <span style="color:#2980b9">or</span> match_cond3_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond3_stb<span style="color:#3f8058">,</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match3 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match3 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match3 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match3 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match3 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match3 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match3 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond3_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr3<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr3<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 3</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match3 <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW3</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">3</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match3<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">3</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match3 <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">2</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">3</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match3 <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">2</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">3</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 4)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr4 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond4_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond4_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond4_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond4_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond4_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond4_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond4_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 4)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr4 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond4_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond4_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond4_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 4</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond4_stb <span style="color:#2980b9">or</span> dcr4 <span style="color:#2980b9">or</span> dvr4 <span style="color:#2980b9">or</span> match_cond4_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond4_stb<span style="color:#3f8058">,</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match4 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match4 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match4 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match4 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match4 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match4 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match4 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond4_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr4<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr4<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 4</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match4 <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW4</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">4</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match4<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">4</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match4 <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">3</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">4</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match4 <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">3</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">4</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 5)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr5 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond5_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond5_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond5_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond5_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond5_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond5_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond5_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 5)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr5 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond5_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond5_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond5_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 5</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond5_stb <span style="color:#2980b9">or</span> dcr5 <span style="color:#2980b9">or</span> dvr5 <span style="color:#2980b9">or</span> match_cond5_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond5_stb<span style="color:#3f8058">,</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match5 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match5 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match5 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match5 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match5 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match5 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match5 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond5_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr5<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr5<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 5</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match5 <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW5</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">5</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match5<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">5</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match5 <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">4</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">5</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match5 <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">4</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">5</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 6)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr6 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond6_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond6_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond6_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond6_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond6_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond6_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond6_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 6)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr6 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond6_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond6_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond6_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 6</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond6_stb <span style="color:#2980b9">or</span> dcr6 <span style="color:#2980b9">or</span> dvr6 <span style="color:#2980b9">or</span> match_cond6_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond6_stb<span style="color:#3f8058">,</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match6 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match6 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match6 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match6 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match6 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match6 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match6 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond6_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr6<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr6<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 6</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match6 <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW6</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">6</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match6<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">6</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match6 <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">5</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">6</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match6 <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">5</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">6</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Compare To What (Match Condition 7)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr7 <span style="color:#2980b9">or</span> id_pc <span style="color:#2980b9">or</span> dcpu_adr_i <span style="color:#2980b9">or</span> dcpu_dat_dc
	<span style="color:#2980b9">or</span> dcpu_dat_lsu <span style="color:#2980b9">or</span> dcpu_we_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span>		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond7_ct <span style="color:#3f8058">=</span> id_pc<span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="color:#f67400">3'b010</span><span style="color:#3f8058">:</span>	match_cond7_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load EA</span>
		<span style="color:#f67400">3'b011</span><span style="color:#3f8058">:</span>	match_cond7_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store EA</span>
		<span style="color:#f67400">3'b100</span><span style="color:#3f8058">:</span>	match_cond7_ct <span style="color:#3f8058">=</span> dcpu_dat_dc<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load data</span>
		<span style="color:#f67400">3'b101</span><span style="color:#3f8058">:</span>	match_cond7_ct <span style="color:#3f8058">=</span> dcpu_dat_lsu<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// store data</span>
		<span style="color:#f67400">3'b110</span><span style="color:#3f8058">:</span>	match_cond7_ct <span style="color:#3f8058">=</span> dcpu_adr_i<span style="color:#3f8058">;</span>	<span style="color:#7a7c7d">// load/store EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond7_ct <span style="color:#3f8058">=</span> dcpu_we_i <span style="color:#3f8058">?</span> dcpu_dat_lsu <span style="color:#3f8058">:</span> dcpu_dat_dc<span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When To Compare (Match Condition 7)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dcr7 <span style="color:#2980b9">or</span> dcpu_cycstb_i<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CT</span><span style="color:#3f8058">])</span> 		<span style="color:#7a7c7d">// synopsys parallel_case</span>
		<span style="color:#f67400">3'b000</span><span style="color:#3f8058">:</span>	match_cond7_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">//comparison disabled</span>
		<span style="color:#f67400">3'b001</span><span style="color:#3f8058">:</span>	match_cond7_stb <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>		<span style="color:#7a7c7d">// insn fetch EA</span>
		<span style="font-weight:bold">default</span><span style="color:#3f8058">:</span>match_cond7_stb <span style="color:#3f8058">=</span> dcpu_cycstb_i<span style="color:#3f8058">;</span> <span style="color:#7a7c7d">// any load/store</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition 7</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>match_cond7_stb <span style="color:#2980b9">or</span> dcr7 <span style="color:#2980b9">or</span> dvr7 <span style="color:#2980b9">or</span> match_cond7_ct<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">casex</span> <span style="color:#3f8058">({</span>match_cond7_stb<span style="color:#3f8058">,</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_CC</span><span style="color:#3f8058">]})</span>
		<span style="color:#f67400">4'b0_xxx</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_000</span><span style="color:#3f8058">,</span>
		<span style="color:#f67400">4'b1_111</span><span style="color:#3f8058">:</span> match7 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
		<span style="color:#f67400">4'b1_001</span><span style="color:#3f8058">:</span> match7 <span style="color:#3f8058">=</span>
			<span style="color:#3f8058">({(</span>match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">==</span>
			 <span style="color:#3f8058">{(</span>dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_010</span><span style="color:#3f8058">:</span> match7 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;</span>
			 <span style="color:#3f8058">{(</span>dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_011</span><span style="color:#3f8058">:</span> match7 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">&lt;=</span>
			 <span style="color:#3f8058">{(</span>dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_100</span><span style="color:#3f8058">:</span> match7 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">></span>
			 <span style="color:#3f8058">{(</span>dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_101</span><span style="color:#3f8058">:</span> match7 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">>=</span>
			 <span style="color:#3f8058">{(</span>dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
		<span style="color:#f67400">4'b1_110</span><span style="color:#3f8058">:</span> match7 <span style="color:#3f8058">=</span> 
			<span style="color:#3f8058">({(</span>match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> match_cond7_ct<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]}</span> <span style="color:#3f8058">!=</span>
			 <span style="color:#3f8058">{(</span>dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">^</span> dcr7<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DCR_SC</span><span style="color:#3f8058">]),</span> dvr7<span style="color:#3f8058">[</span><span style="color:#f67400">30</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]});</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 7</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> match7 <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW7</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match7<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match7 <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">6</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> match7 <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">6</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Increment Watchpoint Counter 0</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>wp <span style="color:#2980b9">or</span> dmr2<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dmr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR2_WCE0</span><span style="color:#3f8058">])</span>
		incr_wpcntr0 <span style="color:#3f8058">=</span> <span style="color:#3f8058">|(</span>wp <span style="color:#3f8058">&amp;</span> <span style="color:#3f8058">~</span>dmr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR2_AWTC</span><span style="color:#3f8058">]);</span>
	<span style="font-weight:bold">else</span>
		incr_wpcntr0 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition Watchpoint Counter 0</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dwcr0<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dwcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_MATCH</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> dwcr0<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_COUNT</span><span style="color:#3f8058">])</span>
		wpcntr0_match <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span>
		wpcntr0_match <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>


<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 8</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> wpcntr0_match <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW8</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">8</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> wpcntr0_match<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">8</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> wpcntr0_match <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">8</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> wpcntr0_match <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">8</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>


<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Increment Watchpoint Counter 1</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>wp <span style="color:#2980b9">or</span> dmr2<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dmr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR2_WCE1</span><span style="color:#3f8058">])</span>
		incr_wpcntr1 <span style="color:#3f8058">=</span> <span style="color:#3f8058">|(</span>wp <span style="color:#3f8058">&amp;</span> dmr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR2_AWTC</span><span style="color:#3f8058">]);</span>
	<span style="font-weight:bold">else</span>
		incr_wpcntr1 <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Match Condition Watchpoint Counter 1</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dwcr1<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>dwcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_MATCH</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> dwcr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DWCR_COUNT</span><span style="color:#3f8058">])</span>
		wpcntr1_match <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span>
		wpcntr1_match <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 9</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> wpcntr1_match <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW9</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">9</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> wpcntr1_match<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">9</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> wpcntr1_match <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">8</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">9</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> wpcntr1_match <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">8</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">9</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoint 10</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span>dmr1 <span style="color:#2980b9">or</span> dbg_ewt_i <span style="color:#2980b9">or</span> wp<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">case</span> <span style="color:#3f8058">(</span>dmr1<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR1_CW10</span><span style="color:#3f8058">])</span>
		<span style="color:#f67400">2'b00</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">10</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> dbg_ewt_i<span style="color:#3f8058">;</span>
		<span style="color:#f67400">2'b01</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">10</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> dbg_ewt_i <span style="color:#3f8058">&amp;</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">9</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b10</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">10</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> dbg_ewt_i <span style="color:#3f8058">|</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">9</span><span style="color:#3f8058">];</span>
		<span style="color:#f67400">2'b11</span><span style="color:#3f8058">:</span> wp<span style="color:#3f8058">[</span><span style="color:#f67400">10</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">endcase</span>

<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Watchpoints can cause trap exception</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_HWBKPTS</span>
<span style="font-weight:bold">assign</span> du_hwbkpt <span style="color:#3f8058">=</span> <span style="color:#3f8058">|(</span>wp <span style="color:#3f8058">&amp;</span> dmr2<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DMR2_WGB</span><span style="color:#3f8058">])</span> <span style="color:#3f8058">|</span> du_hwbkpt_hold <span style="color:#3f8058">|</span> <span style="color:#3f8058">(</span>dbg_bp_r <span style="color:#3f8058">&amp;</span> <span style="color:#3f8058">~</span>dsr<span style="color:#3f8058">[</span><span style="color:#27ae60">`OR1200_DU_DSR_TE</span><span style="color:#3f8058">]);</span>
<span style="color:#27ae60">`else</span>
<span style="font-weight:bold">assign</span> du_hwbkpt <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#7a7c7d">// Hold du_hwbkpt if ex_freeze is active in order to cause trap exception </span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		du_hwbkpt_hold <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>du_hwbkpt <span style="color:#3f8058">&amp;</span> ex_freeze<span style="color:#3f8058">)</span>
		du_hwbkpt_hold <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b1</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(!</span>ex_freeze<span style="color:#3f8058">)</span>
		du_hwbkpt_hold <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>

<span style="color:#27ae60">`ifdef OR1200_DU_TB_IMPLEMENTED</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Simple trace buffer</span>
<span style="color:#7a7c7d">// (right now hardcoded for Xilinx Virtex FPGAs)</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Stores last 256 instruction addresses, instruction</span>
<span style="color:#7a7c7d">// machine words and ALU results</span>
<span style="color:#7a7c7d">//</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Trace buffer write enable</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">assign</span> tb_enw <span style="color:#3f8058">=</span> <span style="color:#3f8058">~</span>ex_freeze <span style="color:#3f8058">&amp;</span> <span style="color:#3f8058">~((</span>ex_insn<span style="color:#3f8058">[</span><span style="color:#f67400">31</span><span style="color:#3f8058">:</span><span style="color:#f67400">26</span><span style="color:#3f8058">]</span> <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_OR32_NOP</span><span style="color:#3f8058">)</span> <span style="color:#3f8058">&amp;</span> ex_insn<span style="color:#3f8058">[</span><span style="color:#f67400">16</span><span style="color:#3f8058">]);</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Trace buffer write address pointer</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		tb_wadr <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">8'h00</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>tb_enw<span style="color:#3f8058">)</span>
		tb_wadr <span style="color:#3f8058">&lt;=</span>  tb_wadr <span style="color:#3f8058">+</span> <span style="color:#f67400">8'd1</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Free running counter (time stamp)</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">always</span> <span style="color:#3f8058">@(</span><span style="font-weight:bold">posedge</span> clk <span style="color:#2980b9">or</span> <span style="color:#27ae60">`OR1200_RST_EVENT</span> rst<span style="color:#3f8058">)</span>
	<span style="font-weight:bold">if</span> <span style="color:#3f8058">(</span>rst <span style="color:#3f8058">==</span> <span style="color:#27ae60">`OR1200_RST_VALUE</span><span style="color:#3f8058">)</span>
		tb_timstmp <span style="color:#3f8058">&lt;=</span>  <span style="color:#f67400">32'h00000000</span><span style="color:#3f8058">;</span>
	<span style="font-weight:bold">else</span> <span style="font-weight:bold">if</span> <span style="color:#3f8058">(!</span>dbg_bp_r<span style="color:#3f8058">)</span>
		tb_timstmp <span style="color:#3f8058">&lt;=</span>  tb_timstmp <span style="color:#3f8058">+</span> <span style="color:#f67400">32'd1</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Trace buffer RAMs</span>
<span style="color:#7a7c7d">//</span>

or1200_dpram_256x32 tbia_ram<span style="color:#3f8058">(</span>
	.clk_a<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_a<span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]),</span>
	.ce_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.oe_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.do_a<span style="color:#3f8058">(</span>tbia_dat_o<span style="color:#3f8058">),</span>

	.clk_b<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_b<span style="color:#3f8058">(</span>tb_wadr<span style="color:#3f8058">),</span>
	.di_b<span style="color:#3f8058">(</span>spr_dat_npc<span style="color:#3f8058">),</span>
	.ce_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.we_b<span style="color:#3f8058">(</span>tb_enw<span style="color:#3f8058">)</span>

<span style="color:#3f8058">);</span>

or1200_dpram_256x32 tbim_ram<span style="color:#3f8058">(</span>
	.clk_a<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_a<span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]),</span>
	.ce_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.oe_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.do_a<span style="color:#3f8058">(</span>tbim_dat_o<span style="color:#3f8058">),</span>
	
	.clk_b<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_b<span style="color:#3f8058">(</span>tb_wadr<span style="color:#3f8058">),</span>
	.di_b<span style="color:#3f8058">(</span>ex_insn<span style="color:#3f8058">),</span>
	.ce_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.we_b<span style="color:#3f8058">(</span>tb_enw<span style="color:#3f8058">)</span>
<span style="color:#3f8058">);</span>

or1200_dpram_256x32 tbar_ram<span style="color:#3f8058">(</span>
	.clk_a<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_a<span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]),</span>
	.ce_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.oe_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.do_a<span style="color:#3f8058">(</span>tbar_dat_o<span style="color:#3f8058">),</span>
	
	.clk_b<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_b<span style="color:#3f8058">(</span>tb_wadr<span style="color:#3f8058">),</span>
	.di_b<span style="color:#3f8058">(</span>rf_dataw<span style="color:#3f8058">),</span>
	.ce_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.we_b<span style="color:#3f8058">(</span>tb_enw<span style="color:#3f8058">)</span>
<span style="color:#3f8058">);</span>

or1200_dpram_256x32 tbts_ram<span style="color:#3f8058">(</span>
	.clk_a<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_a<span style="color:#3f8058">(</span>spr_addr<span style="color:#3f8058">[</span><span style="color:#f67400">7</span><span style="color:#3f8058">:</span><span style="color:#f67400">0</span><span style="color:#3f8058">]),</span>
	.ce_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.oe_a<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.do_a<span style="color:#3f8058">(</span>tbts_dat_o<span style="color:#3f8058">),</span>

	.clk_b<span style="color:#3f8058">(</span>clk<span style="color:#3f8058">),</span>
	.rst_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">),</span>
	.addr_b<span style="color:#3f8058">(</span>tb_wadr<span style="color:#3f8058">),</span>
	.di_b<span style="color:#3f8058">(</span>tb_timstmp<span style="color:#3f8058">),</span>
	.ce_b<span style="color:#3f8058">(</span><span style="color:#f67400">1'b1</span><span style="color:#3f8058">),</span>
	.we_b<span style="color:#3f8058">(</span>tb_enw<span style="color:#3f8058">)</span>
<span style="color:#3f8058">);</span>

<span style="color:#27ae60">`else</span>

<span style="font-weight:bold">assign</span> tbia_dat_o <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> tbim_dat_o <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> tbar_dat_o <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> tbts_dat_o <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>

<span style="color:#27ae60">`endif	</span><span style="color:#7a7c7d">// OR1200_DU_TB_IMPLEMENTED</span>

<span style="color:#27ae60">`else	</span><span style="color:#7a7c7d">// OR1200_DU_IMPLEMENTED</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// When DU is not implemented, drive all outputs as would when DU is disabled</span>
<span style="color:#7a7c7d">//</span>
<span style="font-weight:bold">assign</span> dbg_bp_o <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>
<span style="font-weight:bold">assign</span> du_dsr <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#27ae60">`OR1200_DU_DSR_WIDTH</span><span style="color:#3f8058">{</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">}};</span>
<span style="font-weight:bold">assign</span> du_dmr1 <span style="color:#3f8058">=</span> <span style="color:#3f8058">{</span><span style="color:#f67400">25</span><span style="color:#3f8058">{</span><span style="color:#f67400">1'b0</span><span style="color:#3f8058">}};</span>
<span style="font-weight:bold">assign</span> du_hwbkpt <span style="color:#3f8058">=</span> <span style="color:#f67400">1'b0</span><span style="color:#3f8058">;</span>

<span style="color:#7a7c7d">//</span>
<span style="color:#7a7c7d">// Read DU registers</span>
<span style="color:#7a7c7d">//</span>
<span style="color:#27ae60">`ifdef OR1200_DU_READREGS</span>
<span style="font-weight:bold">assign</span> spr_dat_o <span style="color:#3f8058">=</span> <span style="color:#f67400">32'h0000_0000</span><span style="color:#3f8058">;</span>
<span style="color:#27ae60">`ifdef OR1200_DU_UNUSED_ZERO</span>
<span style="color:#27ae60">`endif</span>
<span style="color:#27ae60">`endif</span>

<span style="color:#27ae60">`endif</span>

<span style="font-weight:bold">endmodule</span>
</pre></body></html>
